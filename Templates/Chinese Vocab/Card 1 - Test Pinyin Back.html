<div class="prettify-flashcard">
	<header>
		<span class="card-type">{{Card}}</span>
		{{#Tags}}<span class="prettify-tags">{{Tags}}</span>{{/Tags}}
	</header>
	<div class="prettify-field prettify-field--front">
		<div class="hanzi" id="conditionalContent" lang="zh-CN">{{Simplified}}</div>
		<div id="example0" class="english">{{English}}</div>
	</div>
	<hr class="prettify-divider answer" id="answer" />
	<div class="prettify-field prettify-field--back">
		<div id="pinyin" class="pinyin">{{Pinyin}}</div>
		<div class="sound">{{^Sound (Male)}}{{tts zh_CN speed=1:Simplified}}{{/Sound (Male)}} {{Sound (Male)}}{{Sound (Female)}}</div>

		<section id="moreInfo" lang="zh-CN">
			{{#Also Written}}<div class="also">{{Also Written}}</div>{{/Also Written}}
      {{#Simplified Classifier}}<div class="classifier">{{Simplified Classifier}}</div>{{/Simplified Classifier}}
		{{Frequency}}
      {{#Notes}}<div class="notes">{{Notes}}</div>{{/Notes}}

		</section>
	</div>
	<footer>
		<div class="link">
			<a class="desktop-only" id="MDBG" href="https://www.mdbg.net/chinese/dictionary?page=worddict&wdrst=0&wdqb={{text:Simplified}}">MDBG</a>
			<a class="mobile-only" id="plecoMobile" href="plecoapi://x-callback-url/df?hw={{text:Simplified}}">Pleco</a>
			<a id="Tatoeba" href="https://tatoeba.org/en/sentences/search?from=cmn&query={{text:Simplified}}&to=">Tatoeba</a>
		</div>
	</footer>
</div>


<script type="text/javascript" src="_minimalTags.js"></script>

<script type="text/javascript">
  (function () {
    // Checks to see if Traditional Characters are different and inserts if not same
    var simp = '{{Simplified}}';
    var trad = '{{Traditional}}';
    if (simp != trad) {
      var add = document.getElementById('conditionalContent');
      add.innerHTML += '<span lang="zh-Hant">|{{Traditional}}</span>';
    }
  })()
</script>

<script type="text/javascript">
  // Searches for pinyin and vocab words and adds the .keyword class for extra styling
  (function () {
    let simp = `{{Simplified}}`.trim();
    let trad = `{{Traditional}}`.trim();
    let py = document.getElementById('pinyin').innerText.trim();
    const reKeywords = new RegExp(String.raw`(<b>)?(\s?${simp}|${trad}|${py}\s?)(<\/b>)?`, "gi");
    var ex = document.getElementById('example0');
    ex.innerHTML = ex.innerHTML.replace(reKeywords, '<span class="keyword">$2</span>');
    })()
</script>
